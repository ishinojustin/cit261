
<!DOCTYPE html>
<html>
<head>
   <style>
      body {
         font-family: helvetica, sans-serif;
      }

      h1 {
         border-bottom: 3px solid #274D59;
         color: #3c240e;
         font-size: 30px;
      }

      table,
      th,
      td {
         border: 1px solid grey;
         border-collapse: collapse;
         padding: 5px;
      }
   </style>
</head>

<body>

   <h1>February Hatch for Henry's Fork of the Snake River</h1>

   <br><br>

   <input type="button" value="View" onclick="getJSON()" />
   <div id="div"><br><br><br></div>
   <div id="id01"></div>

   <script>
      function getJSON() {
         var xmlhttp = new XMLHttpRequest();
         var url = "http://ishinojustin.github.io/cit261/hatch_feb.json";
         try {
            // Opera 8.0+, Firefox, Chrome, Safari
            xmlhttp = new XMLHttpRequest();
         } catch (e) {
            try {
               // Internet Explorer Browsers
               xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
            } catch (e) {
               try {
                  xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
               } catch (e) {
                  alert("Your browser broke!");
                  return false;
               }
            }
         }
         xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
               buildTable(xmlhttp.responseText);
            }
         }
         xmlhttp.open("GET", url, true);
         xmlhttp.send();
      }

      function buildTable(response) {
         document.getElementById("div").innerHTML = "<br><br><br>";
         var hatch = JSON.parse(response);
         console.log(hatch);
         var out = "<table id=hatchList> <th>Fly Name</th>" +
            "<th>Status</th>";

         for (i = 0; i < hatch.length; i++) {
            out += "<tr>" +
               "<td class='flyName'>" + hatch[i].name + "</td>" +
               "<td class='flyStatus' >" + hatch[i].status + "</td>" +
               "</tr>";
         }
         out += "</table>";

         document.getElementById("id01").innerHTML = out;
      }
   </script>

</body>
</html>
